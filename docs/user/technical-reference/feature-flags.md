# Feature Flags

To configure Busola, override the default values of its [`defaultConfig.yaml`](https://github.com/kyma-project/busola/blob/main/public/defaultConfig.yaml) file.

## Features Priority

Initialization of the Busola features is based on the **stage** property, which can take one of the following values:

- `PRIMARY` - the feature is resolved while the application bootstraps. Features that must be immediately visible must be set as `PRIMARY`, for example, the main navigation structure.
- `SECONDARY` - the feature is resolved after the application is ready, it must be used for non-critical features, for example, additional navigation nodes.

If the **stage** property is not set, the feature is loaded only on demand, most often by an iframe. Use the `useFeature` hook to request usage of such a feature.

> [!NOTE]
> Some features must be run before the application starts the bootstrap process, so they are out of the ordinary feature flow.

## Configurable Flags for Frontend

> [!TIP]
> The list is in alphabetical order.

This table lists the frontend configurable feature flags, their descriptions, and default values.

| Feature flag                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Description | Default value                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ----------------------------------- | -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **EXTENSIBILITY**                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Indicates whether the Busola [extensibility](../01-30-extensibility.md) feature is enabled. | `isEnabled: true`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **EXTENSIBILITY_CUSTOM_COMPONENTS** |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           Indicates whether any custom extensions can be added to Busola. See [Set Up Your Custom Busola Extension](https://github.com/kyma-project/busola/blob/main/examples/custom-extension/README.md). | `isEnabled: false`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **EXTENSIBILITY_INJECTIONS**        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Indicates whether extensibility injections can be added to Busola. For more information, see [Widget Injection](https://github.com/kyma-project/busola/blob/main/docs/contributor/extensibility/70-widget-injection.md). | `isEnabled: true`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **EXTERNAL_NODES**                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      Provides a list of links to external websites. `category`: a category name, `icon`: an optional icon, `scope`: either `namespace` or `cluster` (defaults to `cluster`), `children`: a list of pairs (label and link). | <ul><li>`isEnabled: true`</li><li>`stage: SECONDARY`</li><li>`nodes.category: My Category`</li><li>`nodes.icon: course-book`</li><li>`nodes.scope: cluster`</li><li>`nodes.children.label: Example Node Label`</li><li>`nodes.children.link: https://github.com/kyma-project/busola`</li></ul>                                                                                                                                                                                                                                                                                                                                                                                  |
| **FEEDBACK**                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 Determines whether the feedback icon, which redirects the user to the survey, is displayed in the top bar. | <ul><li>`isEnabled: true`</li><li>`config.link: https://www.survey.com`</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **GET_HELP_LINKS**                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        Shows or hides helper links. In **config**, you can find the unchangeable keys (for example, you cannot use **helpSapCom** instead of **help-sap-com**). The keys include the default link, which takes you to the default address. | <ul><li>`config.kyma-project-io.default: https://kyma-project.io`</li><li>`config.help-sap-com.default: https://help.sap.com`</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **HIDDEN_NAMESPACES**               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Defines a list of namespaces that are considered system and are hidden by default. | <ul><li>`isEnabled: true`</li><li>`config.namespaces: kube-system`</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **KUBECONFIG_ID**                   | Configures the URL to which Busola sends a request to download a kubeconfig file. If you add `?kubeconfigID={your ID}` to the Busola URL, Busola tries to download the kubeconfig from `{kubeconfigUrl}/{yourID}`. If the operation succeeds, Busola adds the kubeconfig file to the cluster. If you use a full address in the **kubeconfigUrl** field, Busola also reads it. With the optional **showClustersOverview** you can instruct Busola to show **Clusters Overview** rather than the current context cluster, after the clusters are loaded. **defaultKubeconfig** defines the optional default **KUBECONFIG_ID** to load this kubeconfig when you visit Busola homepage `/` and there are no saved clusters in the application. | <ul><li>`isEnabled: true`</li><li>`config.kubeconfigUrl: https://kyma-env-broker.cp.dev.kyma.cloud.sap/kubeconfig`</li><li>`config.showClustersOverview: false`</li><li>`config.defaultKubeconfig: AAAAA-BBBBB`</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| **LEGAL_LINKS**                     |                                                                                                                                                                                                                                                                                            Shows or hides legal links. In **config**, you can find the unchangeable keys (you cannot use **legalDisclosure** instead of **legal-disclosure**). The keys include both the default link, which takes you to the default address, and a link that depends on your chosen language. The link under the given key is selected based on your language code (`de`, `en`, `pl`, and more). If the code is not available, the default link is used. | <ul><li>`config.legal-disclosure.default: https://www.sap.com/corporate/en/legal/impressum.html`</li><li>`config.legal-disclosure.de: https://www.sap.com/corporate/de/legal/impressum.html`</li><li>`config.privacy.default: https://help.sap.com/viewer/82bdf2271c6041f79387c122147cf774/Cloud/en-US`</li><li>`config.copyright.default: https://www.sap.com/corporate/en/legal/copyright.html`</li><li>`config.copyright.de: https://www.sap.com/corporate/de/legal/copyright.html`</li><li>`config.trademark.default: https://www.sap.com/corporate/en/legal/trademark.html`</li><li>`config.trademark.de: https://www.sap.com/corporate/de/legal/trademark.html`</li></ul> |
| **PROTECTED_RESOURCES**             |               Blocks the edit and delete functions based on the determined rules. If the resource meets the rule requirements, the resource becomes protected and cannot be edited/deleted. Each resource requires the **match** field, which includes a list of key-value pairs. The proper rule description is when the definition given in the key matches the value. To switch comparison mode from **standard** to **regex**, set the **regex** parameter to `true`. Optionally, you can provide the **message** parameter, which displays a simple message, or **messageSrc**, which is a YAML path where the message to be displayed is included. If neither **message** nor **messageSrc** is provided, a generic message is used. | <ul><li>`isEnabled: true`</li><li>`config.resources.match: { $.metadata.labels.foo: bar}` </li><li>`config.resources.message: This resource is protected`</li><li>`config.resources.match: { $.metadata.labels.foo: bar, $.metadata.labels.baz: qux }`</li><li>`config.resources.messageSrc: $.metadata.annotations.protected-message`</li><li>`config.resources.match: { $.metadata.labels.foo: ^[a-zA-Z0-9]$ }`</li><li>`config.resources.regex: true`</li></ul>                                                                                                                                                                                                              |
| **RESOURCE_VALIDATION**             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Determines the selected policies for [resource validation](https://github.com/kyma-project/busola/blob/main/docs/resource-validation/README.md). They can be overwritten in the user settings. | <ul><li>`isEnabled: true`</li><li>`config.policies: Default`</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **SENTRY**                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           Enables monitoring of uncaught exceptions, which are then analyzed and repaired. The address to which you send the information is located under the **dsn** key. | <ul><li>`isEnabled: false`</li><li>`config.dsn: ''`</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **SNOW**                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     Determines if the snow animation is enabled in Busola. | `isEnabled: false`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |

## Configurable Flags for Backend

> [!NOTE]
> Backend features cannot be modified at the cluster ConfigMap level.

| Feature flag | Description                                                               | Default value     |
| ------------ | ------------------------------------------------------------------------- | ----------------- |
| **GZIP**     | Indicates whether responses from the backend server should be compressed. | `isEnabled: true` |
